<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>KJC VOX Register</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }

        body {
          background-color: #f6f8fc;
          min-height: 100vh;
          display: flex;
          flex-direction: column;
          border: 4px solid #2f4254; /* Outer Page Border */
        }

        header {
          background-color: #fff;
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 15px 30px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.08);
          position: sticky;
          top: 0;
          z-index: 1000;
        }

        .logo {
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .logo img { height: 40px; }
        .logo span {
          font-size: 22px;
          font-weight: bold;
        }

        .highlight { color: #f4a300; }

        nav ul {
          list-style: none;
          display: flex;
          gap: 15px;
        }

       nav ul li a {
      text-decoration: none;
      color: #2f4254;
      font-weight: 500;
      padding: 8px 12px;
      border-radius: 5px;
      transition: all 0.3s ease;
    }
    nav ul li a:hover {
      background-color: #2f4254;
      color: white;
    }

        nav ul li button {
          padding: 6px 14px;
          background: #2f4254;
          color: white;
          border: none;
          border-radius: 5px;
          cursor: pointer;
        }

        .hamburger {
          display: none;
          flex-direction: column;
          cursor: pointer;
        }

        .hamburger div {
          width: 25px;
          height: 3px;
          background: #2f4254;
          margin: 4px 0;
        }

        .container {
          flex: 1;
          display: flex;
          justify-content: center;
          align-items: center;
          padding: 40px 20px;
          border-bottom: 4px solid #2f4254; /* Bottom Border before footer */
        }

        .login-box {
          display: flex;
          background: white;
          width: 100%;
          max-width: 1100px;
          border-radius: 10px;
          overflow: hidden;
          box-shadow: 0 0 10px #ccc;
          border: 2px solid #2f4254; /* Border around the white container */
        }

        .left {
          flex: 0.8;
          padding: 40px;
          background-color: #ffffff;
          text-align: center;
        }

        .left h2 { font-size: 24px; margin-bottom: 10px; }
        .left p { font-size: 14px; color: #333; }

        .illustration {
          width: 80%;
          max-width: 400px;
          margin: 20px auto;
        }

        .description {
          font-size: 14px;
          color: #2f4254;
          margin-bottom: 20px;
          font-weight: 500;
        }

        .bottom-register {
          background-color: #2f4254;
          color: white;
          padding: 15px;
          border-radius: 0 0 10px 10px;
        }

        .register-btn-outline {
          margin-top: 10px;
          padding: 8px 20px;
          background: transparent;
          border: 1px solid white;
          border-radius: 5px;
          color: white;
          cursor: pointer;
          font-size: 14px;
          transition: all 0.3s;
        }

        .right {
          flex: 1.2;
          background: #2f4254;
          color: white;
          padding: 40px;
          display: flex;
          flex-direction: column;
          justify-content: center;
        }

        form label { display: block; margin-bottom: 5px; font-size: 14px; }
        form input {
          padding: 10px 12px;
          border-radius: 6px;
          border: 1px solid #ccc;
          background-color: #f5f5f5;
          margin-bottom: 15px;
          font-size: 14px;
          width: 100%;
        }

        form button {
          background: transparent;
          color: white;
          border: 1px solid white;
          padding: 10px;
          border-radius: 5px;
          cursor: pointer;
          width: 100%;
          margin-bottom: 15px;
        }

        footer.footer {
          background: #1c2a38;
          color: white;
          text-align: center;
          padding: 12px;
          font-size: 14px;
        }

        @media (max-width: 992px) {
          .login-box { flex-direction: column; }
          .left, .right { width: 100%; padding: 30px 20px; }
          .illustration { width: 60%; }
        }

        @media (max-width: 768px) {
          .hamburger { display: flex; }
          nav ul {
            display: none;
            flex-direction: column;
            background: white;
            position: absolute;
            top: 70px;
            right: 0;
            width: 100%;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            padding: 20px;
          }
          nav ul.active { display: flex; }
        }

        @media (max-width: 576px) {
          .illustration { width: 100%; max-width: 220px; }
          .left h2 { font-size: 20px; }
          .logo span { font-size: 18px; }
        }
    </style>
</head>
<body>

<header>
    <div class="logo">
        <img src="images/Kristu-Jayanti-College-Logo.png" alt="College Logo">
        <span>KJC <span class="highlight">VOX</span></span>
    </div>
    <nav>
        <ul>
            <li><a href="Home.html">Home</a></li>
            <li><a href="login.html">Login</a></li>
          <!--  <li><a href="#">About Us</a></li> -->
        </ul>
        <div class="hamburger" onclick="toggleMenu()">
            <div></div>
            <div></div>
            <div></div>a
        </div>
    </nav>
</header>

<main class="container">
    <div class="login-box">
        <div class="left">
            <h2>Register to KJC<span class="highlight"> VOX</span></h2>
            <p>Secure access for students, faculties & admins</p>
            <img src="images/Lock-IN.png" alt="Illustration" class="illustration">
            <p class="description">A private, secure platform for honest feedback and academic reflection</p>
           <!--  <div class="bottom-register">
                <p>Already have an account?</p>
                <button class="register-btn-outline" onclick="location.href='login.html'">Login</button>
            </div> -->
        </div>

        <div class="right">
            <form id="registerForm">
                <label for="name">Name</label>
                <input type="text" id="name" placeholder="Full Name" required>

                <label for="email">Email</label>
                <input type="email" id="email" placeholder="name@kristujayanti.com" required>

                <button type="button" onclick="sendCode()">Send Code</button>

                <label for="code">Enter Code</label>
                <input type="text" id="code" placeholder="Enter verification code" required>

                <button type="submit">Create Account</button>
            </form>
        </div>
    </div>
</main>

<footer class="footer">
    <p>Â© KJC VOX. All rights reserved.</p>
</footer>

<script>
    function toggleMenu() {
      document.querySelector('nav ul').classList.toggle('active');
    }

   function sendCode() {
  const name = document.getElementById('name').value;
  const email = document.getElementById('email').value;

  if (email && name) {
    fetch('/api/send-code', {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({ email, name }) // Include name in the request
    })
    .then(res => res.json())
    .then(data => {
      alert(data.message);
      if (data.success) {
        // Enable the code input field
        document.getElementById('code').disabled = false;
      }
    })
    .catch(err => alert('Error sending code: ' + err.message));
  } else {
    alert('Please enter both name and email');
  }
}

   document.getElementById('registerForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const name = document.getElementById('name').value;
  const email = document.getElementById('email').value;
  const code = document.getElementById('code').value;

  fetch('/api/register', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({ name, email, code })
  })
  .then(res => res.json())
  .then(data => {
    alert(data.message);
    if (data.success) {
      window.location.href = 'login.html';
    }
  })
  .catch(() => alert('Registration failed'));
});
</script>

</body>

</html>
